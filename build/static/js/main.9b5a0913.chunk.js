(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{115:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),r=c(28),i=c.n(r),s=(c(35),c(3)),l=c(5),j=c(7),d=c.n(j),o=c(10),u=function(){var e=Object(o.a)(d.a.mark((function e(t,c){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"fd8c070c089d987df68a9d92920e972f",e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(c,",").concat(t,"&appid=").concat("fd8c070c089d987df68a9d92920e972f","&units=metric"));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r={status:n.cod,name:null===n||void 0===n?void 0:n.name,weather:null===n||void 0===n?void 0:n.main},e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),b=function(e,t,c){var a=c.country,r=c.city,i=Object(n.useRef)(!0),j=Object(n.useState)({status:"",name:"",weather:""}),b=Object(l.a)(j,2),h=b[0],p=b[1];return Object(n.useEffect)((function(){return function(){i.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var c=Object(o.a)(d.a.mark((function c(){var n;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(""===a||""===r){c.next=6;break}return c.next=3,u(a,r);case 3:n=c.sent,i.current&&p((function(e){return Object(s.a)(Object(s.a)({},e),n)})),e(!1);case 6:t(!1);case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[e,t,a,r]),h},h=function(e){var t=e.name,c=e.weather,n=c.temp,r=c.humidity,i=c.feels_like,s=c.temp_max,l=c.temp_min;return Object(a.jsx)("div",{className:"col s12 card-panel blue darken-2",children:Object(a.jsxs)("div",{className:"white-text",children:[Object(a.jsx)("h2",{children:t}),Object(a.jsxs)("p",{className:"temperatura",children:[n," \xbaC"]}),Object(a.jsxs)("p",{children:["Humedad: ",r," %"]}),Object(a.jsxs)("p",{children:["Sensaci\xf3n t\xe9rmica: ",i," \xbaC"]}),Object(a.jsxs)("p",{children:["Temperatura M\xe1xima: ",s," \xbaC"]}),Object(a.jsxs)("p",{children:["Temperatura M\xednima: ",l," \xbaC"]})]})})},p=function(e){var t=e.error,c=e.height;return Object(a.jsx)("div",{style:{alignItems:"center",display:"flex",height:c,justifyContent:"center"},children:Object(a.jsx)("p",{className:"error",children:t})})},O=function(e){var t=e.status,c=e.name,n=e.weather;return 200===t?Object(a.jsx)(h,{name:c,weather:n}):"404"===t?Object(a.jsx)(p,{error:"No se pudo obtener el clima, de la ciudad especificada.",height:"200px"}):void 0},m=function(){return Object(a.jsx)("div",{style:{alignItems:"center",display:"flex",height:"200px",justifyContent:"center"},children:Object(a.jsx)("div",{className:"preloader-wrapper active",children:Object(a.jsxs)("div",{className:"spinner-layer spinner-blue-only ",children:[Object(a.jsx)("div",{className:"circle-clipper left",children:Object(a.jsx)("div",{className:"circle"})}),Object(a.jsx)("div",{className:"gap-patch",children:Object(a.jsx)("div",{className:"circle"})}),Object(a.jsx)("div",{className:"circle-clipper right",children:Object(a.jsx)("div",{className:"circle"})})]})})})},x=function(e){var t=e.title;return Object(a.jsx)("nav",{children:Object(a.jsx)("div",{className:"nav-wrapper indigo darken-4",children:Object(a.jsx)("a",{href:"#!",className:"brand-logo",children:t})})})},v=c(6),f=c.n(v),g=c(29),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),c=Object(l.a)(t,2),a=c[0],r=c[1],i=function(e){r(Object(s.a)(Object(s.a)({},a),{},Object(g.a)({},e.target.name,e.target.value)))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)};return[a,i,j]},N=function(e,t){return e.trim().length<2||f.a.isEmpty(e)||!f.a.isAlpha(e,["es-ES"])||!f.a.isUppercase(e)?{msgErrorWeather:"Ingrese un pa\xeds v\xe1lido.",isValid:!1}:t.trim().length<2||f.a.isEmpty(t)||!f.a.isAlpha(t,["es-ES"],{ignore:" "})?{msgErrorWeather:"Ingrese una ciudad v\xe1lida.",isValid:!1}:{msgErrorWeather:null,isValid:!0}},w=function(e){var t=e.city,c=e.handleChange;return Object(a.jsx)("div",{className:"input-field col s12",children:Object(a.jsx)("input",{type:"text",name:"city",placeholder:"Ciudad...",value:t,onChange:c})})},C=function(e){var t=e.country,c=e.handleChange;return Object(a.jsx)("div",{className:"input-field col s12",children:Object(a.jsxs)("select",{name:"country",value:t,onChange:c,children:[Object(a.jsx)("option",{value:"",defaultValue:!0,children:"Seleccione Un Pa\xeds"}),Object(a.jsx)("option",{value:"AR",children:"Argentina"}),Object(a.jsx)("option",{value:"CO",children:"Colombia"}),Object(a.jsx)("option",{value:"CR",children:"Costa Rica"}),Object(a.jsx)("option",{value:"ES",children:"Espa\xf1a"}),Object(a.jsx)("option",{value:"US",children:"Estados Unidos"}),Object(a.jsx)("option",{value:"MX",children:"M\xe9xico"}),Object(a.jsx)("option",{value:"PE",children:"Per\xfa"})]})})},E=function(e){var t=e.disabled;return Object(a.jsx)("div",{className:"input-field col s12 center-align",children:Object(a.jsx)("button",{type:"submit",className:"waves-effect waves-light btn indigo darken-4",disabled:t,children:"Obtener clima"})})},S=function(e){var t=e.setData,c=e.setLoading,r=e.disabled,i=e.setDisabled,j=y({country:"",city:""}),d=Object(l.a)(j,3),o=d[0],u=d[1],b=d[2],h=o.country,O=o.city,m=Object(n.useState)(null),x=Object(l.a)(m,2),v=x[0],g=x[1];return Object(a.jsxs)(a.Fragment,{children:[v&&Object(a.jsx)(p,{error:v,height:"auto"}),Object(a.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),i(!0);var a=f.a.escape(h),n=f.a.escape(O),r=N(a,n),l=r.msgErrorWeather,j=r.isValid;if(g(l),j)return c(!0),t((function(e){return e.country===a&&e.city===n?(c(!1),Object(s.a)(Object(s.a)({},e),{},{city:""})):Object(s.a)(Object(s.a)({},e),{},{country:a,city:n})})),void b(Object(s.a)(Object(s.a)({},o),{},{city:""}));i(!1)},children:[Object(a.jsx)(C,{country:h,handleChange:u}),Object(a.jsx)(w,{city:O,handleChange:u}),Object(a.jsx)(E,{disabled:r})]})]})},k=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(!1),j=Object(l.a)(i,2),d=j[0],o=j[1],u=Object(n.useState)({country:"",city:""}),h=Object(l.a)(u,2),p=h[0],v=h[1],f=b(r,o,Object(s.a)({},p));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x,{title:"Clima App"}),Object(a.jsx)("div",{className:"contenedor-form",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col m6 s12",children:Object(a.jsx)(S,{setData:v,setLoading:r,disabled:d,setDisabled:o})}),Object(a.jsx)("div",{className:"col m6 s12",children:c?Object(a.jsx)(m,{}):O(f)})]})})})]})};i.a.render(Object(a.jsx)(k,{}),document.getElementById("root"))},35:function(e,t,c){}},[[115,1,2]]]);
//# sourceMappingURL=main.9b5a0913.chunk.js.map